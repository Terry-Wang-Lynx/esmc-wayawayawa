# ESM-C è›‹ç™½è´¨åˆ†ç±»å·¥å…·é›†

åŸºäº ESM-C (600M) çš„è›‹ç™½è´¨åºåˆ—åˆ†ç±»å·¥å…·é›†ï¼ŒåŒ…å«ä¸¤ç§ä¸åŒçš„è®­ç»ƒç­–ç•¥ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æä¾›äº†ä¸¤ç§è›‹ç™½è´¨åºåˆ—äºŒåˆ†ç±»æ–¹æ¡ˆï¼š

1. **`classify/`** - å¯¹æ¯”å­¦ä¹  + åˆ†ç±»å¾®è°ƒï¼ˆä¸¤é˜¶æ®µè®­ç»ƒï¼‰
2. **`discovery/`** - ç›´æ¥åˆ†ç±»å¾®è°ƒï¼ˆå•é˜¶æ®µè®­ç»ƒï¼‰

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
esmc-wayawayawa/
â”œâ”€â”€ classify/          # å¯¹æ¯”å­¦ä¹ æ–¹æ¡ˆï¼ˆSETFIT ç­–ç•¥ï¼‰
â”‚   â”œâ”€â”€ stage1_pretrain.py
â”‚   â”œâ”€â”€ stage2_finetune.py
â”‚   â”œâ”€â”€ predict.py
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ discovery/         # ç›´æ¥å¾®è°ƒæ–¹æ¡ˆ
â”‚   â”œâ”€â”€ train.py
â”‚   â”œâ”€â”€ predict.py
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ datasets/          # å…±äº«æ•°æ®é›†ç›®å½•
â”œâ”€â”€ data/              # ESM-C æ¨¡å‹æƒé‡
â”‚   â””â”€â”€ weights/
â”œâ”€â”€ sdk/               # Forge API å®¢æˆ·ç«¯
â”œâ”€â”€ models/            # ESM æ¨¡å‹å®šä¹‰
â”œâ”€â”€ tokenization/      # åˆ†è¯å™¨
â””â”€â”€ README.md          # æœ¬æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Terry-Wang-Lynx/esmc-wayawayawa.git
cd esmc-wayawayawa

# é…ç½® ESM-C ç¯å¢ƒï¼ˆéœ€è¦ Python 3.8+ï¼‰
conda create -n esm3 python=3.10
conda activate esm3
pip install torch numpy matplotlib scikit-learn umap-learn
```

### 2. ä¸‹è½½æ¨¡å‹æƒé‡

ä» [Hugging Face](https://huggingface.co/EvolutionaryScale/esmc-600m-2024-12/tree/main/data/weights) ä¸‹è½½ ESM-C æƒé‡ï¼š

```bash
mkdir -p data/weights
# ä¸‹è½½ esmc_600m_2024_12_v0.pth åˆ° data/weights/
```

### 3. é€‰æ‹©æ–¹æ¡ˆ

#### æ–¹æ¡ˆ Aï¼šå¯¹æ¯”å­¦ä¹ æ–¹æ¡ˆï¼ˆ`classify/`ï¼‰

**é€‚ç”¨åœºæ™¯**ï¼š
- å°æ ·æœ¬å­¦ä¹ ï¼ˆ< 100 æ¡æ­£æ ·æœ¬ï¼‰
- éœ€è¦é«˜è´¨é‡è¯­ä¹‰ç©ºé—´å¯è§†åŒ–
- å…³æ³¨æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
cd classify
python3 stage1_pretrain.py  # å¯¹æ¯”å­¦ä¹ é¢„è®­ç»ƒ
python3 stage2_finetune.py  # åˆ†ç±»å¤´è®­ç»ƒ
python3 predict.py input.fasta  # é¢„æµ‹
```

è¯¦è§ [`classify/README.md`](classify/README.md)

#### æ–¹æ¡ˆ Bï¼šç›´æ¥å¾®è°ƒæ–¹æ¡ˆï¼ˆ`discovery/`ï¼‰

**é€‚ç”¨åœºæ™¯**ï¼š
- ä¸­ç­‰æ ·æœ¬é‡ï¼ˆ1000+ æ¡æ­£æ ·æœ¬ï¼‰
- æ•°æ®æåº¦ä¸å¹³è¡¡ï¼ˆæ­£è´Ÿæ ·æœ¬æ¯”ä¾‹ 1:100+ï¼‰
- éœ€è¦å¿«é€Ÿè®­ç»ƒå’Œéƒ¨ç½²

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
cd discovery
python3 train.py  # è®­ç»ƒ
python3 predict.py  # é¢„æµ‹
```

è¯¦è§ [`discovery/README.md`](discovery/README.md)

## ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§ | `classify/` | `discovery/` |
|------|-------------|--------------|
| **è®­ç»ƒç­–ç•¥** | ä¸¤é˜¶æ®µï¼ˆå¯¹æ¯”å­¦ä¹  + åˆ†ç±»ï¼‰ | å•é˜¶æ®µï¼ˆç›´æ¥åˆ†ç±»ï¼‰ |
| **é€‚ç”¨æ•°æ®é‡** | å°æ ·æœ¬ï¼ˆ< 100ï¼‰ | ä¸­ç­‰æ ·æœ¬ï¼ˆ1000+ï¼‰ |
| **è®­ç»ƒæ—¶é—´** | è¾ƒé•¿ï¼ˆä¸¤é˜¶æ®µï¼‰ | è¾ƒçŸ­ï¼ˆå•é˜¶æ®µï¼‰ |
| **æ•°æ®ä¸å¹³è¡¡å¤„ç†** | å¯¹æ¯”å­¦ä¹ å¤©ç„¶å¹³è¡¡ | åŠ¨æ€è´Ÿé‡‡æ · |
| **å¯è§†åŒ–** | ä¸°å¯Œï¼ˆUMAP/t-SNEï¼‰ | åŸºç¡€ï¼ˆè®­ç»ƒæ›²çº¿ï¼‰ |
| **å¤æ‚åº¦** | é«˜ | ä½ |

## ğŸ› ï¸ æ ¸å¿ƒåŠŸèƒ½

### å…±äº«ç‰¹æ€§

- âœ… **ESM-C 600M åŸºåº§**ï¼šä½¿ç”¨ EvolutionaryScale çš„è›‹ç™½è´¨è¯­è¨€æ¨¡å‹
- âœ… **çµæ´»çš„å±‚å†»ç»“ç­–ç•¥**ï¼šå¯é€‰æ‹©å†»ç»“/è§£å†»ç¼–ç å™¨å±‚
- âœ… **å®æ—¶è®­ç»ƒç›‘æ§**ï¼šè¯¦ç»†çš„æ—¥å¿—å’Œè¿›åº¦è¾“å‡º
- âœ… **å¤šæ ¼å¼è¾“å‡º**ï¼šCSVã€FASTA ç­‰æ ¼å¼çš„é¢„æµ‹ç»“æœ

### `classify/` ç‹¬æœ‰

- ğŸ¯ **å¯¹æ¯”å­¦ä¹ é¢„è®­ç»ƒ**ï¼šé€šè¿‡ CosineEmbeddingLoss ä¼˜åŒ–è¯­ä¹‰ç©ºé—´
- ğŸ“Š **é«˜è´¨é‡å¯è§†åŒ–**ï¼šUMAP/t-SNE é™ç»´å¯è§†åŒ–
- ğŸ”„ **æ–­ç‚¹æ¢å¤**ï¼šæ”¯æŒè®­ç»ƒä¸­æ–­åç»§ç»­

### `discovery/` ç‹¬æœ‰

- âš¡ **åŠ¨æ€è´Ÿé‡‡æ ·**ï¼šè‡ªåŠ¨å¹³è¡¡æ­£è´Ÿæ ·æœ¬
- ğŸ“ˆ **å®æ—¶è¯„ä¼°**ï¼šæ¯è½®è‡ªåŠ¨åœ¨éªŒè¯é›†ä¸Šè¯„ä¼°
- ğŸ’¾ **å‘¨æœŸæ€§ä¿å­˜**ï¼šå®šæœŸä¿å­˜æ¨¡å‹æ£€æŸ¥ç‚¹

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- [å¯¹æ¯”å­¦ä¹ æ–¹æ¡ˆè¯¦ç»†æ–‡æ¡£](classify/README.md)
- [ç›´æ¥å¾®è°ƒæ–¹æ¡ˆè¯¦ç»†æ–‡æ¡£](discovery/README.md)

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: æˆ‘åº”è¯¥é€‰æ‹©å“ªä¸ªæ–¹æ¡ˆï¼Ÿ

- **æ•°æ®é‡ < 100 æ¡**ï¼šä½¿ç”¨ `classify/`
- **æ•°æ®é‡ > 1000 æ¡**ï¼šä½¿ç”¨ `discovery/`
- **æ•°æ®æåº¦ä¸å¹³è¡¡**ï¼šä½¿ç”¨ `discovery/`
- **éœ€è¦å¯è§†åŒ–åˆ†æ**ï¼šä½¿ç”¨ `classify/`

### Q: å¦‚ä½•å¤„ç†æ˜¾å­˜ä¸è¶³ï¼Ÿ

å‡å°æ‰¹æ¬¡å¤§å°ï¼ˆ`BATCH_SIZE`ï¼‰æˆ–å‡å°‘è§£å†»å±‚æ•°ï¼ˆ`UNFREEZE_LAYERS`ï¼‰ã€‚

### Q: è®­ç»ƒéœ€è¦å¤šä¹…ï¼Ÿ

- `classify/`ï¼šçº¦ 1-2 å°æ—¶ï¼ˆå–å†³äºæ•°æ®é‡å’Œè½®æ•°ï¼‰
- `discovery/`ï¼šçº¦ 30 åˆ†é’Ÿ - 1 å°æ—¶

## ğŸ“ å¼•ç”¨

å¦‚æœä½¿ç”¨æœ¬é¡¹ç›®ï¼Œè¯·å¼•ç”¨ï¼š

```bibtex
@software{esmc_wayawayawa,
  author = {Terry Wang},
  title = {ESM-C Protein Classification Toolkit},
  year = {2025},
  url = {https://github.com/Terry-Wang-Lynx/esmc-wayawayawa}
}
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚

---

**ç‰ˆæœ¬**: 2.0  
**æœ€åæ›´æ–°**: 2025-11-27  
**ä½œè€…**: Terry Wang
